from selenium import webdriver
from selenium.webdriver.chrome.options import Options

def check_html5_storage(target_url):
    try:
        # Set up headless browser for testing
        options = Options()
        options.add_argument("--headless")
        driver = webdriver.Chrome(options=options)
        driver.get(target_url)

        # Execute JavaScript to check for sensitive data in storage
        local_storage_data = driver.execute_script("return JSON.stringify(localStorage);")
        session_storage_data = driver.execute_script("return JSON.stringify(sessionStorage);")

        driver.quit()

        # Check if sensitive data is present (e.g., passwords, tokens, etc.)
        sensitive_keywords = ["password", "token", "secret", "key"]
        for keyword in sensitive_keywords:
            if keyword in local_storage_data or keyword in session_storage_data:
                return True  # Vulnerable
        return False  # Not Vulnerable
    except Exception:
        return False  # Unable to test
