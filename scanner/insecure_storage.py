# insecure_storage.py
import re
import requests

def is_insecure_storage_used(url):
    """
    Checks if sensitive data like passwords or tokens are stored insecurely by scanning for local storage usage.
    """
    response = requests.get(url)
    insecure_storage_patterns = [
        re.compile(r"localStorage\.setItem\(.*password.*\)"),
        re.compile(r"sessionStorage\.setItem\(.*token.*\)")
    ]
    
    for pattern in insecure_storage_patterns:
        if pattern.search(response.text):
            return True  # Sensitive data is stored insecurely
    return False
